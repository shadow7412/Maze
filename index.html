<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Maze Editor</title>
<link rel="stylesheet" type="text/css" id="tabcss" href="comprise/blocks.css" />
<link rel="stylesheet" type="text/css" id="tabcss" href="comprise/jquery-ui-1.8.22.custom.css" />
<script src="comprise/jquery-1.7.2.min.js"></script>
<script src="comprise/jquery-ui-1.8.22.custom.min.js"></script>
<script src="comprise/maze.js"></script>
</head>
<body onmouseup="mouseUp()">
<div id="tabs">
	<ul>
		<li><a href="#setup">Setup</a></li>
		<li><a href="#craft">Craft</a></li>
		<li><a href="#output" onclick="exportLevel()">Export</a></li>
		<li id="error"></li>
	</ul>
	<div id="setup">
		Generate Maze:</br>
		This will delete any progress you have made (if any)!!<br/>
		<form onsubmit="if(generate(this.col.value,this.row.value)) $('#tabs').tabs('select', 1);return false;">
			<table>
			<tr><td>Columns:</td><td><input name="col" value="20"></td></tr>
			<tr><td>Rows:</td><td><input name="row" value="20"/></td></tr>
			<tr><td></td><td><input type="submit" value="Generate"/></td></tr>
			</table>
		</form>
	</div>
	<div id="craft">
		<div id="pallet">
			Paint:
			<div id="paint">
				<span title="Wall" class="wall active" onmousedown="brush(this)"></span>
				<span title="Floor" class="floor" onmousedown="brush(this)"></span>
				<span title="Empty" onmousedown="brush(this)"></span>
				<span title="Death Zone" class="deathzone" onmousedown="brush(this)"></span>
				<span title="Key" class="key" onmousedown="brush(this)"></span>
				<span title="Door - Open" class="door open" onmousedown="brush(this)"></span>
				<span title="Door - Closed" class="door closed" onmousedown="brush(this)"></span>
				<span title="Breakable Wall" class="break" onmousedown="brush(this)"></span>
				<span title="Spawn" class="spawn" onmousedown="brush(this)"></span>
				<span title="Exit" class="exit" onmousedown="brush(this)"></span>
			</div>
			Door/Key Type:
			<div>
				<select id="doortype">
					<option value="A">A</option>
					<option value="B">B</option>
				</select>
			</div>
			Add row/column
			<div>
				<button onclick="addUp()">Up</button>
				<button onclick="addDown()">Down</button>
				<button onclick="addLeft()">Left</button>
				<button onclick="addRight()">Right</button>
			</div>
			Quicksave:
			<div>
				<button onclick="saveToCookie()">Save</button>
				<button onclick="if(loadFromCookie())error('Level Loaded!');else error('Level couldn\'t be loaded!')">Load</button>
				<button onclick="error('Save cleared!');eraseCookie('mazelevel')">Delete</button>
			</div>
			Warnings:
			<div id="warnings">
			</div>
		</div>
		<div id="maze">Generate a map in the Setup tab - or load one in the Export tab :)</div>
	</div>
	<div id="output">
		<button onclick="if(importLevel()) $('#tabs').tabs('select',1); else error('The columns don\'t line up!');return false;">Import to editor</button>
		<textarea></textarea>
	</div>
</div>
</body>
</html>