<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>aMAZEing Editor</title>
<link rel="stylesheet" type="text/css" id="tabcss" href="comprise/blocks.css" />
<link rel="stylesheet" type="text/css" id="tabcss" href="comprise/jquery-ui-1.8.22.custom.css" />
<script src="comprise/jquery-1.7.2.min.js"></script>
<script src="comprise/jquery-ui-1.8.22.custom.min.js"></script>
<script src="comprise/maze.js"></script>
</head>
<body onmouseup="mouseUp()">
<div id="tabs">
	<ul>
		<li><a href="#intro">Introduction / Help</a></li>
		<li><a href="#setup">Setup</a></li>
		<li><a href="#craft">Craft</a></li>
		<li><a href="#output" onclick="exportLevel()">Export</a></li>
		<li id="error"></li>
	</ul>
	<div id="intro">
		aMAZEing Level editor!
		<div style="font-size:12px;">
			This is the level editor that comes with the game aMAZEing! With it, you can create and share your own levels!<br/>
			The only requirement is you have a spawn point, and an exit point - and a way to get there!<br/><br/>
			You should read the below - but when you are ready: <a href="javascript:$('#tabs').tabs('select',1)">generate a grid to get you started!</a>
		</div>
		Block Types:
		<table>
		<tr>
			<th><span class="floor"></span></th>
			<th>Floor</th>
			<td>Player can roll on this. Player should be allowed 2 spaces wide to move wherever possible</td>
		</tr>
		<tr>
			<th><span class="wall"></span></th>
			<th>Wall</th>
			<td>Used to block the player</td>
		</tr>
		<tr>
			<th><span class="break"></span></th>
			<th>Breakable Wall</th>
			<td>Used to hinder the player. Leave a good runup!</td>
		</tr>
		<tr>
			<th><span class="void"></span></th>
			<th>Void</th>
			<td>Nothingness. Player can fall through this to their death. Handy for making obscurely shaped mazes, or deathholes.</td>
		</tr>
		<tr>
			<th><span class="door closed A"></span></th>
			<th>Door (closed)</th>
			<td>Used to block the player until it finds the key (numbers must match on the key and door). You may place as many doors as you like.</td>
		</tr>
		<tr>
			<th><span class="door open A"></span></th>
			<th>Door (open)</th>
			<td>As above - but starts opened. Used to block a path after the player finds the key. You may place as many doors as you like.</td>
		</tr>
		<tr>
			<th><span class="key A"></span></th>
			<th>Key</th>
			<td>Used to open/close doors. Limit of one per type - but can be placed 1x1, 1x2, 2x1 or 2x2 (Floor will be placed and the key put in the middle).You may only have 1 type of each key!</td>
		</tr>
		<tr>
			<th><span class="deathzone"></span></th>
			<th>Death Zone</th>
			<td>Used to kill the player. Be crafty in how you place these ;)</td>
		</tr>
		<tr>
			<th><span class="spawn"></span></th>
			<th>Spawn</th>
			<td>Player starts here. Requirement of 1 per map, and must be 2x2.</td>
		</tr>
		<tr>
			<th><span class="exit"></span></th>
			<th>Exit</th>
			<td>Player finishes here. Requirement of 1 per map, and must be 2x2.</td>
		</tr>
			
		</table>
	</div>
	<div id="setup">
		Generate Maze:</br>
		This will delete any progress you have made (if any)!!<br/>
		<form target="" action="javascript:$('#maze').html('');alert('The browser could not generate a map this large. Try a smaller map!');" onsubmit="if(generate(this.col.value,this.row.value)) $('#tabs').tabs('select', 2);return false;">
			<table>
			<tr><td>Columns:</td><td><input name="col" value="20"></td></tr>
			<tr><td>Rows:</td><td><input name="row" value="20"/></td></tr>
			<tr><td></td><td><input type="submit" value="Generate"/></td></tr>
			</table>
		</form>
		<iframe style="display:none"></iframe>
	</div>
	<div id="craft">
		<div id="pallet">
			Paint:
			<div id="paint">
				<span title="Wall" class="wall active" onmousedown="brush(this)"></span>
				<span title="Floor" class="floor" onmousedown="brush(this)"></span>
				<span title="Empty" onmousedown="brush(this)"></span>
				<span title="Key" class="key" onmousedown="brush(this)"></span>
				<span title="Door - Open" class="door open" onmousedown="brush(this)"></span>
				<span title="Door - Closed" class="door closed" onmousedown="brush(this)"></span>
				<span title="Breakable Wall" class="break" onmousedown="brush(this)"></span>
				<span title="Death Zone" class="deathzone" onmousedown="brush(this)"></span>
				<span title="Spawn" class="spawn" onmousedown="brush(this)"></span>
				<span title="Exit" class="exit" onmousedown="brush(this)"></span>
			</div>
			Door/Key Type:
			<div>
				<select id="doortype">
					<option value="A">1</option>
					<option value="B">2</option>
					<option value="C">3</option>
					<option value="D">4</option>
					<option value="E">5</option>
					<option value="F">6</option>
					<option value="G">7</option>
					<option value="H">8</option>
					<option value="I">9</option>
					<option value="J">10</option>
				</select>
			</div>
			Add row/column
			<div>
				<button onclick="addUp()">Up</button>
				<button onclick="addDown()">Down</button>
				<button onclick="addLeft()">Left</button>
				<button onclick="addRight()">Right</button>
			</div>
			Quicksave:
			<div>
				<button onclick="saveToCookie()">Save</button>
				<button onclick="if(loadFromCookie())error('Level Loaded!');else error('Level couldn\'t be loaded!')">Load</button>
				<button onclick="error('Save cleared!');eraseCookie('mazelevel')">Delete</button>
			</div>
			Warnings:
			<div class="warnings">
			</div>
		</div>
		<div id="maze">Generate a map in the Setup tab - or load one in the Export tab :)</div>
	</div>
	<div id="output">
		<div class="warnings">
		</div>
		<button onclick="if(importLevel()) $('#tabs').tabs('select',2); else error('The columns don\'t line up!');return false;">Import to editor</button>
		<textarea></textarea>
	</div>
</div>
</body>
</html>